---
import DocsLayout from '../../layouts/DocsLayout.astro';
---

<DocsLayout title="Governance & Proposals" description="Complete guide to DAO governance and proposal management">
  <article class="prose prose-invert max-w-none">
    <h1 class="text-4xl font-bold text-white mb-6">Governance & Proposals</h1>
    
    <p class="text-xl text-gray-300 mb-8">
      Master the art of decentralized decision-making through proposals, voting, and execution.
    </p>

    <div class="bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-6 mb-8">
      <h3 class="text-cyan-300 font-semibold mb-2">What is DAO Governance?</h3>
      <p class="text-gray-300 mb-0">
        Governance is how your DAO makes collective decisions. Members propose changes, vote on them, 
        and approved proposals are automatically executed on-chain. This creates transparent, 
        trustless coordination without central authority.
      </p>
    </div>

    <h2 class="text-3xl font-bold text-white mt-12 mb-6">Proposal Types</h2>

    <div class="grid md:grid-cols-2 gap-6 mb-12">
      <div class="bg-gray-900 border border-cyan-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-cyan-400">Treasury Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Fund allocation, grants, spending, and financial operations.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Transfer funds to recipients</li>
          <li>• Approve grant applications</li>
          <li>• Investment decisions</li>
          <li>• Emergency fund access</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-cyan-500/20 rounded text-cyan-400 text-xs">
          Requires: 66% approval, 20% quorum
        </div>
      </div>

      <div class="bg-gray-900 border border-green-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-green-400">Governance Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Changes to voting rules, quorum, and governance parameters.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Modify voting period</li>
          <li>• Update quorum requirements</li>
          <li>• Change approval thresholds</li>
          <li>• Adjust proposal deposits</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-green-500/20 rounded text-green-400 text-xs">
          Requires: 75% supermajority, 30% quorum
        </div>
      </div>

      <div class="bg-gray-900 border border-yellow-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-yellow-400">Tokenomics Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Token supply, rewards, fees, and economic mechanisms.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Adjust staking rewards</li>
          <li>• Modify transaction fees</li>
          <li>• Token burning mechanisms</li>
          <li>• Reward distribution rates</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-yellow-500/20 rounded text-yellow-400 text-xs">
          Requires: 60% approval, 25% quorum
        </div>
      </div>

      <div class="bg-gray-900 border border-purple-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-purple-400">Membership Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Add/remove members, assign roles, and manage permissions.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Grant admin privileges</li>
          <li>• Remove malicious actors</li>
          <li>• Create new member tiers</li>
          <li>• Modify role permissions</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-purple-500/20 rounded text-purple-400 text-xs">
          Requires: 51% approval, 15% quorum
        </div>
      </div>

      <div class="bg-gray-900 border border-blue-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-blue-400">Technical Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Smart contract upgrades, integrations, and technical changes.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Upgrade canister code</li>
          <li>• Add new features</li>
          <li>• Fix security vulnerabilities</li>
          <li>• Integrate with protocols</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-blue-500/20 rounded text-blue-400 text-xs">
          Requires: 66% approval, 20% quorum
        </div>
      </div>

      <div class="bg-gray-900 border border-pink-500/30 rounded-lg p-6">
        <div class="flex items-center mb-3">
          <h3 class="text-xl font-bold text-pink-400">General Proposals</h3>
        </div>
        <p class="text-gray-300 text-sm mb-3">
          Community decisions, partnerships, and general governance.
        </p>
        <ul class="text-gray-400 text-sm space-y-1">
          <li>• Community initiatives</li>
          <li>• Partnership approvals</li>
          <li>• Policy decisions</li>
          <li>• Mission/vision updates</li>
        </ul>
        <div class="mt-4 px-3 py-2 bg-pink-500/20 rounded text-pink-400 text-xs">
          Requires: 51% approval, 10% quorum
        </div>
      </div>
    </div>

    <h2 class="text-3xl font-bold text-white mt-12 mb-6">Creating a Proposal</h2>

    <div class="space-y-8">
      <!-- Step 1 -->
      <div class="bg-gray-900 border-l-4 border-cyan-500 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-10 h-10 bg-cyan-500 rounded-full flex items-center justify-center text-white font-bold mr-4">1</div>
          <h3 class="text-2xl font-bold text-white">Navigate to Governance</h3>
        </div>
        <p class="text-gray-300 mb-4">
          Access the governance section from your DAO dashboard.
        </p>
        <div class="bg-gray-950 rounded-lg p-4">
          <p class="text-gray-300 text-sm">
            Dashboard → [Your DAO] → <strong class="text-cyan-400">Governance Tab</strong> → Click <strong class="text-cyan-400">"Create Proposal"</strong>
          </p>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="bg-gray-900 border-l-4 border-green-500 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold mr-4">2</div>
          <h3 class="text-2xl font-bold text-white">Select Proposal Type</h3>
        </div>
        <p class="text-gray-300 mb-4">
          Choose the category that best fits your proposal. This determines voting thresholds.
        </p>
        <div class="bg-gray-950 rounded-lg p-4">
          <p class="text-gray-400 text-sm mb-3">Each type has different requirements:</p>
          <ul class="text-gray-300 text-sm space-y-2">
            <li><span class="text-cyan-400">Treasury (66%)</span> - High stakes, needs strong consensus</li>
            <li><span class="text-green-400">Governance (75%)</span> - Changes rules, requires supermajority</li>
            <li><span class="text-yellow-400">Tokenomics (60%)</span> - Economic changes, moderate threshold</li>
            <li><span class="text-purple-400">Membership (51%)</span> - Member management, simple majority</li>
            <li><span class="text-blue-400">Technical (66%)</span> - Code changes, high threshold</li>
            <li><span class="text-pink-400">General (51%)</span> - Other decisions, simple majority</li>
          </ul>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="bg-gray-900 border-l-4 border-yellow-500 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold mr-4">3</div>
          <h3 class="text-2xl font-bold text-white">Write Proposal Details</h3>
        </div>
        <p class="text-gray-300 mb-4">
          Craft a clear, compelling proposal that members can understand and evaluate.
        </p>
        <div class="bg-gray-950 rounded-lg p-4 space-y-4">
          <div>
            <h4 class="text-cyan-400 font-semibold text-sm mb-2">Title (Required)</h4>
            <p class="text-gray-400 text-sm mb-2">Concise, descriptive title (5-100 characters)</p>
            <div class="bg-gray-900 rounded p-2">
              <p class="text-green-400 text-xs mb-1">Good: "Increase Staking Rewards by 5%"</p>
              <p class="text-red-400 text-xs">Bad: "Important Proposal Please Read"</p>
            </div>
          </div>

          <div>
            <h4 class="text-cyan-400 font-semibold text-sm mb-2">Description (Required)</h4>
            <p class="text-gray-400 text-sm mb-2">Detailed explanation with context and rationale (500+ characters recommended)</p>
            <div class="bg-gray-900 rounded p-3 text-xs">
              <p class="text-gray-300 mb-2"><strong>Include:</strong></p>
              <ul class="text-gray-400 space-y-1">
                <li>• <strong>Problem:</strong> What issue does this address?</li>
                <li>• <strong>Solution:</strong> How does this proposal solve it?</li>
                <li>• <strong>Impact:</strong> Who benefits? Any downsides?</li>
                <li>• <strong>Implementation:</strong> How will this be executed?</li>
                <li>• <strong>Timeline:</strong> When will changes take effect?</li>
              </ul>
            </div>
          </div>

          <div>
            <h4 class="text-cyan-400 font-semibold text-sm mb-2">Action Parameters (If Applicable)</h4>
            <p class="text-gray-400 text-sm mb-2">For executable proposals, specify the on-chain action:</p>
            <pre class="bg-gray-900 rounded p-3 text-xs text-cyan-300">Example: Transfer 1000 ICP to Principal
Recipient: rdmx6-jaaaa-aaaaa-aaadq-cai
Amount: 1000 ICP
Reason: Community Grant Q1 2025</pre>
          </div>
        </div>

        <div class="bg-cyan-500/10 border border-cyan-500/30 rounded p-4 mt-4">
          <h4 class="text-cyan-300 font-semibold text-sm mb-2">Pro Tips</h4>
          <ul class="text-gray-300 text-sm space-y-1 mb-0">
            <li>• Use Markdown for formatting (bold, lists, links)</li>
            <li>• Add external links to supporting documents</li>
            <li>• Include budget breakdowns for financial proposals</li>
            <li>• Reference similar past proposals</li>
            <li>• Be transparent about conflicts of interest</li>
          </ul>
        </div>
      </div>

      <!-- Step 4 -->
      <div class="bg-gray-900 border-l-4 border-purple-500 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold mr-4">4</div>
          <h3 class="text-2xl font-bold text-white">Submit Proposal Deposit</h3>
        </div>
        <p class="text-gray-300 mb-4">
          Lock tokens as a deposit to prevent spam. Refunded if proposal passes.
        </p>
        <div class="bg-gray-950 rounded-lg p-4">
          <div class="flex items-center justify-between mb-3">
            <span class="text-gray-400 text-sm">Required Deposit:</span>
            <span class="text-cyan-400 font-bold">100 GOV tokens</span>
          </div>
          <div class="flex items-center justify-between mb-3">
            <span class="text-gray-400 text-sm">Your Balance:</span>
            <span class="text-white font-bold">500 GOV tokens</span>
          </div>
          <div class="bg-yellow-500/10 border border-yellow-500/30 rounded p-3 mt-3">
            <p class="text-yellow-300 text-xs mb-0">
              Note: Deposit is locked during voting. If proposal fails, deposit goes to treasury.
            </p>
          </div>
        </div>
      </div>

      <!-- Step 5 -->
      <div class="bg-gray-900 border-l-4 border-red-500 rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-bold mr-4">5</div>
          <h3 class="text-2xl font-bold text-white">Review & Submit</h3>
        </div>
        <p class="text-gray-300 mb-4">
          Final check before publishing to all members.
        </p>
        <div class="bg-gray-950 rounded-lg p-4">
          <h4 class="text-cyan-400 font-semibold text-sm mb-3">Pre-Submit Checklist</h4>
          <ul class="text-gray-300 text-sm space-y-2">
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Title is clear and specific</span>
            </li>
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Description explains problem, solution, and impact</span>
            </li>
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Action parameters are correct (if executable)</span>
            </li>
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Proposal type and category are appropriate</span>
            </li>
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Deposit amount available in wallet</span>
            </li>
            <li class="flex items-start">
              <span class="text-cyan-400 mr-2">□</span>
              <span>Reviewed for typos and clarity</span>
            </li>
          </ul>
        </div>

        <div class="mt-4">
          <button class="px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg text-white font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all">
            Submit Proposal
          </button>
          <p class="text-gray-400 text-sm mt-2">
            Voting begins immediately and lasts for the configured period (typically 5-7 days)
          </p>
        </div>
      </div>
    </div>

    <h2 class="text-3xl font-bold text-white mt-12 mb-6">Voting on Proposals</h2>

    <div class="bg-gray-900 border border-cyan-500/30 rounded-lg p-6 mb-8">
      <h3 class="text-xl font-bold text-white mb-4">How Voting Power Works</h3>
      <p class="text-gray-300 mb-4">
        Your voting power is determined by your staked tokens with time-weighted multipliers:
      </p>
      <div class="bg-gray-950 rounded-lg p-4">
        <pre class="text-cyan-300 text-sm">Voting Power = Staked Tokens × Time Multiplier

Time Multipliers:
• No lock: 1.0x  (can unstake anytime)
• 3 months: 1.2x  (20% bonus)
• 6 months: 1.5x  (50% bonus)
• 1 year: 2.0x  (100% bonus)
• 2 years: 3.0x  (200% bonus)</pre>
      </div>
    </div>

    <div class="grid md:grid-cols-3 gap-6 mb-12">
      <div class="bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-lg p-6 text-center">
        <h3 class="text-2xl font-bold text-green-400 mb-2">Vote Yes</h3>
        <p class="text-gray-300 text-sm">
          Support the proposal. Your voting power counts toward approval.
        </p>
      </div>

      <div class="bg-gradient-to-br from-red-500/20 to-red-600/20 border border-red-500/30 rounded-lg p-6 text-center">
        <h3 class="text-2xl font-bold text-red-400 mb-2">Vote No</h3>
        <p class="text-gray-300 text-sm">
          Oppose the proposal. Your voting power counts against approval.
        </p>
      </div>

      <div class="bg-gradient-to-br from-gray-500/20 to-gray-600/20 border border-gray-500/30 rounded-lg p-6 text-center">
        <h3 class="text-2xl font-bold text-gray-400 mb-2">Abstain</h3>
        <p class="text-gray-300 text-sm">
          Count toward quorum but don't affect outcome. Used when conflicted.
        </p>
      </div>
    </div>

    <h2 class="text-3xl font-bold text-white mt-12 mb-6">Proposal Lifecycle</h2>

    <div class="space-y-4">
      <div class="flex items-start">
        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold mr-4 mt-1">1</div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">Submission</h3>
          <p class="text-gray-400 text-sm">Proposal created, deposit locked, voting begins immediately</p>
        </div>
      </div>

      <div class="flex items-start">
        <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center text-white font-bold mr-4 mt-1">2</div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">Active Voting</h3>
          <p class="text-gray-400 text-sm">Members cast votes, discussion happens, creator can cancel proposal</p>
        </div>
      </div>

      <div class="flex items-start">
        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold mr-4 mt-1">3</div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">Voting Ends</h3>
          <p class="text-gray-400 text-sm">Time expires, final tally calculated, outcome determined</p>
        </div>
      </div>

      <div class="flex items-start">
        <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold mr-4 mt-1">4</div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">Execution (If Passed)</h3>
          <p class="text-gray-400 text-sm">Automatic on-chain execution after optional time-delay, deposit refunded</p>
        </div>
      </div>

      <div class="flex items-start">
        <div class="w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold mr-4 mt-1">5</div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-white mb-2">Archived</h3>
          <p class="text-gray-400 text-sm">Proposal moved to history, outcome recorded permanently on-chain</p>
        </div>
      </div>
    </div>

    <h2 class="text-3xl font-bold text-white mt-12 mb-6">Best Practices</h2>

    <div class="grid md:grid-cols-2 gap-6">
      <div class="bg-gray-900 border border-cyan-500/30 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-cyan-400 mb-4">For Proposal Creators</h3>
        <ul class="text-gray-300 space-y-2 text-sm">
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Discuss proposals informally before submitting</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Provide clear rationale and data</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Respond to community feedback</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Split complex proposals into smaller ones</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Set realistic timelines for implementation</span>
          </li>
        </ul>
      </div>

      <div class="bg-gray-900 border border-cyan-500/30 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-cyan-400 mb-4">For Voters</h3>
        <ul class="text-gray-300 space-y-2 text-sm">
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Read proposals thoroughly before voting</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Consider long-term impact on DAO</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Participate in discussions</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Vote on every proposal (quorum matters)</span>
          </li>
          <li class="flex items-start">
            <span class="text-cyan-400 mr-2">•</span>
            <span>Use abstain when you lack expertise</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="mt-12 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/20 rounded-xl p-8">
      <h2 class="text-2xl font-bold text-white mb-4">Learn More</h2>
      <p class="text-gray-300 mb-4">
        Explore related topics to deepen your understanding of DAO governance.
      </p>
      <div class="grid md:grid-cols-2 gap-4">
        <a href="/guides/staking" class="block p-4 bg-gray-900 border border-cyan-500/30 rounded-lg hover:border-cyan-500 transition-colors">
          <h3 class="text-cyan-400 font-semibold mb-2">Staking & Voting Power →</h3>
          <p class="text-gray-400 text-sm">Learn how to maximize your influence</p>
        </a>

        <a href="/guides/treasury" class="block p-4 bg-gray-900 border border-cyan-500/30 rounded-lg hover:border-cyan-500 transition-colors">
          <h3 class="text-cyan-400 font-semibold mb-2">Treasury Management →</h3>
          <p class="text-gray-400 text-sm">Understand financial proposals</p>
        </a>
      </div>
    </div>
  </article>
</DocsLayout>
